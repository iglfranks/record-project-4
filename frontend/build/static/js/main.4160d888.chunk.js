(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{102:function(e,t,a){},163:function(e,t,a){"use strict";a.r(t);var c=a(1),r=a(20),n=a.n(r),s=(a(102),a(15)),i=a(9),l=a(2),o=a(8),j=a.n(o),d=a(10),b=a(3),u=a(174),h=a(11),O=a.n(h),x=a(176),p=a(0),m=function(e){var t=e.id,a=e.image,c=e.title;return Object(p.jsxs)(s.b,{to:"/records/".concat(t),children:[Object(p.jsx)(x.a,{children:Object(p.jsx)(x.a.Image,{src:a,alt:"".concat(c," Cover Art"),id:"record-single-pic",style:{boxShadow:"0 4px 16px 0 rgba(0,0,0, 0.8",borderRadius:"50%"}})}),Object(p.jsx)(u.a.Caption,{style:{top:"0",bottom:"auto",color:"white",backgroundColor:"rgba(0,0,0, 0.4",borderRadius:"20px"},children:c})]})},f=a(34),g=a.n(f),v=function(){var e=Object(c.useState)([]),t=Object(b.a)(e,2),a=t[0],r=t[1],n=Object(c.useState)(!1),s=Object(b.a)(n,2),i=s[0],o=s[1],h=[],x=Object(c.useState)([]),f=Object(b.a)(x,2),v=f[0],y=f[1];return Object(c.useEffect)((function(){var e=function(){var e=Object(d.a)(j.a.mark((function e(){var t,a;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,O.a.get("/api/records/");case 3:t=e.sent,a=t.data,r(a),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),o(!0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}();e()}),[]),Object(c.useEffect)((function(){var e;!function(){for(var t=0;t<6;t++){if(!(e=a[t]))return;h.push(e)}y(h)}()}),[a]),Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)("section",{className:"home-hero",children:Object(p.jsxs)("div",{className:"px-4 py-5",style:{display:"flex",justifyContent:"space-evenly",alignItems:"center"},children:[Object(p.jsxs)("div",{className:"d-flex flex-column align-content-center",children:[Object(p.jsx)("h1",{className:"fw-bold text-white",children:"RECORD-ID"}),Object(p.jsx)("div",{children:Object(p.jsx)("p",{className:"text-white",children:"Browse an array of records varying in genre to add to your collection."})})]}),Object(p.jsx)("div",{id:"playlist-box",children:Object(p.jsx)(g.a,{url:"https://soundcloud.com/beltersmag/sets/belters-free-tunes",height:"450px",style:{border:"solid rgba(231, 129, 13, 0.822) 5px",borderRadius:"5px"}})})]})}),Object(p.jsxs)("section",{children:[Object(p.jsx)("div",{className:"container-fluid py-3",style:{display:"flex",justifyContent:"center",backgroundColor:"black"},children:Object(p.jsx)("h1",{style:{color:"white"},children:"Featured Records"})}),Object(p.jsx)("div",{children:v!==[]?Object(p.jsx)(p.Fragment,{children:Object(p.jsx)(u.a,{id:"home-carousel",variant:"dark",pause:"hover",children:v.map((function(e){return Object(p.jsx)(u.a.Item,{className:"carousel-item",style:{textAlign:"center",backgroundImage:"linear-gradient(rgba(0, 0, 0, 0.3), rgba(0, 0, 0, 0.3)), url(".concat(e.image,")"),backgroundRepeat:"no-repeat",backgroundPosition:"cover",paddingTop:"30px"},children:Object(p.jsx)(m,Object(l.a)({},e))},e.id)}))})}):Object(p.jsx)(p.Fragment,{children:i?Object(p.jsx)("h1",{children:"error"}):Object(p.jsx)("h1",{children:"loading"})})})]})]})},y=function(e){var t=e.id,a=e.title,c=e.image,r=e.artists;return Object(p.jsx)("div",{className:"card border-dark",children:Object(p.jsxs)(s.b,{to:"/records/".concat(t),children:[Object(p.jsx)("img",{className:"card-img-top",src:c,alt:"Record Image"}),Object(p.jsxs)("div",{className:"card-footer border-dark text-decoration-none",children:[Object(p.jsx)("h6",{className:"card-title cardInfo text-black",style:{textDecoration:"none"},children:a}),Object(p.jsx)("h6",{className:"cardInfo text-black",children:r[0].name})]})]})})},w=a(168),k=a(169),N=a(93),C=function(){var e=Object(c.useState)([]),t=Object(b.a)(e,2),a=t[0],r=t[1],n=Object(c.useState)(!1),s=Object(b.a)(n,2),i=s[0],o=s[1],u=Object(c.useState)(),h=Object(b.a)(u,2),x=h[0],m=h[1];return Object(c.useEffect)((function(){var e=function(){var e=Object(d.a)(j.a.mark((function e(){var t,a;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,O.a.get("/api/records/");case 3:t=e.sent,a=t.data,r(a),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),o(!0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}();e()}),[]),Object(c.useEffect)((function(){!function(){var e=Math.floor(Math.random()*a.length);m(a[e])}()}),[a]),Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)(w.a,{fluid:!0,id:"record-index-hero",style:{padding:"25px"},children:Object(p.jsxs)(k.a,{style:{display:"flex",justifyContent:"center",alignItems:"center"},children:[Object(p.jsxs)(N.a,{style:{textAlign:"center"},children:[Object(p.jsx)("h1",{className:"text-white title",children:"Records"}),Object(p.jsx)("p",{className:"subtitle text-white",children:"Browse and buy a collection of various records. Log in to add your own to the list for others to see!"})]}),Object(p.jsx)(N.a,{children:x?Object(p.jsx)(g.a,{url:x.soundcloud_link,height:"200px",style:{border:"solid rgba(231, 129, 13) 5px",borderRadius:"5px"}}):Object(p.jsx)("p",{children:"Loading"})})]})}),Object(p.jsx)("section",{children:Object(p.jsx)("div",{className:"container-md my-4",children:a?Object(p.jsx)("div",{className:"row row-cols-4",children:a.map((function(e){return Object(p.jsx)("div",{className:"col mb-3",children:Object(p.jsx)(y,Object(l.a)({},e),e.id)},e.id)}))}):Object(p.jsx)("div",{className:"row row-cols-1",children:i?Object(p.jsx)("div",{className:"col",children:Object(p.jsx)("h1",{children:"An Error has occured!"})}):Object(p.jsx)("div",{className:"col",children:Object(p.jsx)("h1",{children:"Loading..."})})})})})]})},_=function(){return window.localStorage.getItem("token")},S=function(){var e=_();if(e){var t=e.split(".");if(!(t.length<3)){var a=t[1];return JSON.parse(atob(a))}}},L=a(170),I=function(){var e=Object(i.g)(),t=Object(i.f)();Object(c.useEffect)((function(){}),[e.pathname]);var a=function(){return!!S()};return Object(p.jsx)("nav",{className:"navbar navbar-dark bg-dark navbar-expand-lg sticky-top",children:Object(p.jsxs)("div",{className:"container-fluid mainNavDiv",children:[Object(p.jsx)("a",{className:"navbar-brand",href:"/",children:"Record-id"}),Object(p.jsx)("button",{className:"navbar-toggler",type:"button","data-bs-toggle":"collapse","data-bs-target":"#navbarNav","aria-controls":"navbarNav","aria-expanded":"false","aria-label":"Toggle navigation",children:Object(p.jsx)("span",{className:"navbar-toggler-icon"})}),Object(p.jsxs)("div",{className:"collapse navbar-collapse d-flex justify-content-between",children:[Object(p.jsxs)("div",{className:"navbar-nav",children:[Object(p.jsx)(s.b,{to:"/",className:"nav-link",children:"Home"}),Object(p.jsx)(s.b,{to:"/records",className:"nav-link",children:"Records"}),Object(p.jsx)(s.b,{to:"/artists",className:"nav-link",children:"Artists"}),a()?Object(p.jsx)(p.Fragment,{children:Object(p.jsx)(s.b,{to:"/addrecord",className:"nav-link btn btn-primary text-white",style:{backgroundColor:"rgba(71, 85, 209, 0.952)",border:"solid rgb(71, 85, 209)",marginLeft:"20px"},children:"Add A Record"})}):Object(p.jsx)("div",{})]}),Object(p.jsx)("div",{className:"navbar-nav navbar-text d-flex",children:a()?Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)(s.b,{to:"/profile",className:"nav-link",children:"Profile"}),Object(p.jsx)(L.a,{className:"btn btn-primary",onClick:function(){window.localStorage.removeItem("token"),t.push("/")},style:{backgroundColor:"rgba(71, 85, 209, 0.952)",border:"solid rgb(71, 85, 209)",marginLeft:"20px"},children:"Logout"})]}):Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)(s.b,{to:"/register",className:"nav-link",children:"Register"}),Object(p.jsx)(s.b,{to:"/login",className:"nav-link",children:"Login"})]})})]})]})})},R=a(172),A=a(171),G=a(177),E=a(13),F=a(175),B=a(94),P=function(){var e=Object(i.h)().id,t=Object(c.useState)(!1),a=Object(b.a)(t,2),r=a[0],n=a[1],s=Object(c.useState)({comment:"",rating:"",record:e}),o=Object(b.a)(s,2),u=o[0],h=o[1],x=function(){var e=Object(d.a)(j.a.mark((function e(t){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.prev=1,e.next=4,O.a.post("/api/reviews/",u,{headers:{Authorization:"Bearer ".concat(_())}});case 4:window.location.reload(),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(1),n(!0);case 10:case"end":return e.stop()}}),e,null,[[1,7]])})));return function(t){return e.apply(this,arguments)}}();return Object(p.jsx)(F.a,{onSubmit:x,children:Object(p.jsxs)(k.a,{children:[Object(p.jsx)(F.a.Group,{children:Object(p.jsxs)(B.a,{label:"Comment",children:[Object(p.jsx)(F.a.Control,{as:"textarea",name:"comment",value:u.comment,onChange:function(e){var t=Object(l.a)(Object(l.a)({},u),{},Object(E.a)({},e.target.name,e.target.value));h(t)}}),Object(p.jsx)(F.a.Text,{className:"text-danger",children:r?"Please enter a comment!":""})]})}),Object(p.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[Object(p.jsxs)(F.a.Group,{children:[Object(p.jsx)(F.a.Label,{children:"Rating"}),Object(p.jsxs)(F.a.Select,{className:r?"border-danger":"",name:"rating",value:parseInt(u.rating),onChange:function(e){var t=Object(l.a)(Object(l.a)({},u),{},Object(E.a)({},e.target.name,parseInt(e.target.value)));h(t)},style:{width:"100%"},children:[Object(p.jsx)("option",{children:"-"}),Object(p.jsx)("option",{children:"1"}),Object(p.jsx)("option",{children:"2"}),Object(p.jsx)("option",{children:"3"}),Object(p.jsx)("option",{children:"4"}),Object(p.jsx)("option",{children:"5"})]})]}),S()?Object(p.jsx)(L.a,{type:"submit",variant:"primary",style:{height:"40px",borderRadius:"10px"},children:"Submit"}):Object(p.jsx)(L.a,{disabled:!0,children:"Login to make a review!"})]})]})})},D=a(95),T=a.n(D),U=function(e){var t=e.id,a=e.owner,r=e.rating,n=e.comment,s=Object(c.useState)(),i=Object(b.a)(s,2),l=i[0],o=i[1];Object(c.useEffect)((function(){var e=S();o(e?e.sub:"")}),[]);var u=function(){var e=Object(d.a)(j.a.mark((function e(t){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:O.a.delete("/api/reviews/".concat(t.target.id,"/"),{headers:{Authorization:"Bearer ".concat(_())}}),window.location.reload();case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(p.jsxs)(p.Fragment,{children:[Object(p.jsxs)(G.a.Header,{style:{display:"flex",justifyContent:"space-between"},children:[Object(p.jsx)("div",{children:a.username}),Object(p.jsx)("div",{children:a.id===l?Object(p.jsx)(L.a,{id:t,onClick:u,style:{borderRadius:"500px",backgroundColor:"darkred",border:"solid darkred"},children:"X"}):Object(p.jsx)("div",{})})]}),Object(p.jsxs)(G.a.Body,{children:[Object(p.jsx)(G.a.Title,{children:Object(p.jsx)(T.a,{rating:r,numberOfStars:5,starRatedColor:"rgb(255, 209, 57)",starDimension:"18px",starSpacing:"3px"})}),Object(p.jsx)(G.a.Text,{children:n})]})]})},z=a(96),H=function(){var e=Object(c.useState)(),t=Object(b.a)(e,2),a=t[0],r=t[1],n=Object(c.useState)(!1),s=Object(b.a)(n,2),o=s[0],u=s[1],h=Object(c.useRef)(null),x=Object(i.h)().id,m=Object(c.useState)({record:""}),f=Object(b.a)(m,2),g=f[0],v=f[1];Object(c.useEffect)((function(){v({record:parseInt(x)})}),[x]);var y=function(){var e=Object(d.a)(j.a.mark((function e(){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,O.a.post("/api/favourites/",g,{headers:{Authorization:"Bearer ".concat(_())}});case 3:r("disabled"),u(!0),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}();return console.log(g),Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)(L.a,{ref:h,className:a,variant:"secondary",style:{backgroundColor:"rgba(71, 85, 209, 0.952)",border:"solid rgb(71, 85, 209)"},onClick:y,children:"Fave"}),Object(p.jsx)(z.a,{target:h.current,show:o,placement:"bottom",children:function(e){return Object(p.jsx)(A.a,Object(l.a)(Object(l.a)({},e),{},{children:"Added!"}))}})]})},M=function(){var e=Object(c.useState)([]),t=Object(b.a)(e,2),a=t[0],r=t[1],n=Object(c.useState)(),o=Object(b.a)(n,2),u=o[0],h=o[1],m=Object(c.useState)(),f=Object(b.a)(m,2),v=f[0],y=f[1],C=Object(i.h)().id,_=Object(c.useState)(!1),S=Object(b.a)(_,2),L=S[0],I=S[1],E=Object(c.useState)(null),F=Object(b.a)(E,2),B=F[0],D=F[1];return Object(c.useEffect)((function(){var e=function(){var e=Object(d.a)(j.a.mark((function e(){var t,a;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,O.a.get("/api/records/".concat(C));case 3:t=e.sent,a=t.data,r(a),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),I(!0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}();e()}),[C]),Object(c.useEffect)((function(){!1===a.is_vinyl_only?D("Availible on digital and vinyl."):D("Availible on vinyl only.");h(a.artists);y(a.review_set)}),[a]),Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)(w.a,{style:{marginTop:"45px",marginBottom:"50px"},children:Object(p.jsxs)(k.a,{id:"pic-and-info",children:[Object(p.jsx)(N.a,{md:{span:4},children:Object(p.jsx)(x.a,{children:Object(p.jsx)(x.a.Image,{src:a.image,alt:"".concat(a.title," Cover"),id:"record-single-pic",style:{border:"solid rgba(0, 0, 0, 0.8.5) 10px",borderRadius:"10px"}})})}),Object(p.jsx)(N.a,{children:Object(p.jsxs)(k.a,{children:[Object(p.jsxs)("div",{className:"d-flex flex-row justify-content-between align-items-center pb-3",children:[Object(p.jsx)("div",{className:"w-100",children:Object(p.jsx)(N.a,{style:{display:"flex",flexDirection:"row",justifyContent:"space-between",alignItems:"center"},children:Object(p.jsx)("h4",{children:a.title})})}),Object(p.jsx)("div",{id:"button-div",children:Object(p.jsx)(H,{})})]}),Object(p.jsx)("hr",{}),Object(p.jsxs)(N.a,{children:[Object(p.jsxs)("p",{children:["Label: ",a.label]}),Object(p.jsxs)("p",{children:["Genre: ",a.genre]}),Object(p.jsxs)("p",{children:["Released: ",a.release_date]})]}),Object(p.jsx)("hr",{}),Object(p.jsx)(N.a,{children:Object(p.jsxs)(k.a,{style:{display:"flex",flexDirection:"column"},children:[Object(p.jsx)(N.a,{children:Object(p.jsx)("p",{children:B})}),Object(p.jsx)(N.a,{children:Object(p.jsx)("p",{children:Object(p.jsx)("a",{href:a.link,className:"purch-link",children:"Purchase Link"})})})]})}),Object(p.jsx)(N.a,{className:"reactplayer-col",children:Object(p.jsx)(g.a,{url:a.soundcloud_link,height:"200px",style:{border:"solid rgba(231, 129, 13, 0.822) 5px",borderRadius:"5px"}})})]})})]})}),Object(p.jsx)(w.a,{fluid:!0,style:{padding:"0"},children:Object(p.jsxs)(w.a,{fluid:!0,className:"d-flex",id:"artists-and-reviews",style:{padding:"50px"},children:[u?Object(p.jsxs)(k.a,{lg:3,sm:3,style:{display:"flex",flexDirection:"column"},children:[Object(p.jsx)("h5",{children:"Artists"}),u.map((function(e){return Object(p.jsx)(N.a,{children:Object(p.jsx)(R.a,{placement:"top",overlay:Object(p.jsx)(A.a,{children:e.name}),children:Object(p.jsx)(G.a,{children:Object(p.jsx)(s.b,{to:"/artists/".concat(e.id),children:Object(p.jsx)(x.a,{style:{margin:"0",border:"solid rgba(0, 0, 0, 0.38) 5px",borderRadius:"5px"},children:Object(p.jsx)(x.a.Image,{src:e.image,alt:"".concat(e.name," Profile Pic"),id:"record-single-pic",style:{margin:"0"}})})})})})},e.id)}))]}):Object(p.jsxs)(k.a,{children:[Object(p.jsx)("h1",{children:"error"})," : ",Object(p.jsx)("h1",{children:"Loading"})]}),Object(p.jsxs)(k.a,{style:{width:"100%"},children:[Object(p.jsx)(N.a,{children:Object(p.jsx)(P,{})}),Object(p.jsx)(N.a,{children:v?Object(p.jsx)(N.a,{children:v.map((function(e){return Object(p.jsx)(G.a,{style:{marginBottom:"10px"},children:Object(p.jsx)(U,Object(l.a)({},e),e.id)},e.id)}))}):Object(p.jsx)(N.a,{children:L?Object(p.jsx)("h5",{children:"An error has occured!"}):Object(p.jsx)("h1",{children:"Loading..."})})})]})]})})]})},J=function(e){var t=e.handleImageUrl,a=e.value,c=function(){var e=Object(d.a)(j.a.mark((function e(a){var c,r;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(c=new FormData).append("file",a.target.files[0]),c.append("upload_preset","yn8bfwwz"),e.next=5,O.a.post("https://api.cloudinary.com/v1_1/iglfranks/image/upload",c);case 5:r=e.sent,t(r.data.url);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(p.jsx)(p.Fragment,{children:a?Object(p.jsx)(x.a,{children:Object(p.jsx)(x.a.Image,{src:a,alt:"Cover Art",id:"image-upload-preview"})}):Object(p.jsx)(p.Fragment,{children:Object(p.jsx)(F.a.Control,{className:"input",type:"file",onChange:c})})})},X=function(){var e=Object(i.f)(),t=Object(c.useState)({username:"",email:"",password:"",password_confirmation:"",first_name:"",last_name:"",profile_pic:""}),a=Object(b.a)(t,2),r=a[0],n=a[1],s=Object(c.useState)({username:"",email:"",password:"",password_confirmation:"",first_name:"",last_name:"",profile_pic:""}),o=Object(b.a)(s,2),u=o[0],h=o[1],x=function(e){var t=Object(l.a)(Object(l.a)({},r),{},Object(E.a)({},e.target.name,e.target.value));n(t)},m=function(){var t=Object(d.a)(j.a.mark((function t(a){return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a.preventDefault(),t.prev=1,t.next=4,O.a.post("/api/auth/register/",r);case 4:e.push("/login"),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(1),h(t.t0.response.data);case 10:case"end":return t.stop()}}),t,null,[[1,7]])})));return function(e){return t.apply(this,arguments)}}();return Object(p.jsx)(w.a,{id:"form-container",children:Object(p.jsx)(F.a,{onSubmit:m,children:Object(p.jsxs)("div",{style:{display:"flex"},children:[Object(p.jsxs)(k.a,{className:"register-div",style:{margin:"20px"},children:[Object(p.jsxs)(F.a.Group,{children:[Object(p.jsx)(F.a.Label,{children:"Username"}),Object(p.jsx)(F.a.Control,{className:"".concat(u.username?"border-danger":""),name:"username",placeholder:"Username",value:r.username,onChange:x})]}),Object(p.jsxs)(F.a.Group,{children:[Object(p.jsx)(F.a.Label,{children:"Email Address"}),Object(p.jsx)(F.a.Control,{className:"".concat(u.email?"border-danger":""),name:"email",placeholder:"Email",onChange:x,value:r.email})]}),Object(p.jsxs)(F.a.Group,{children:[Object(p.jsx)(F.a.Label,{children:"Password"}),Object(p.jsx)(F.a.Control,{className:"".concat(u.password?"border-danger":""),name:"password",type:"password",placeholder:"Password",onChange:x,value:r.password})]}),Object(p.jsxs)(F.a.Group,{children:[Object(p.jsx)(F.a.Label,{children:"Password confirmation"}),Object(p.jsx)(F.a.Control,{className:"".concat(u.password_confirmation?"border-danger":""),name:"password_confirmation",type:"password",placeholder:"Confirm your password",onChange:x,value:r.password_confirmation})]})]}),Object(p.jsxs)(k.a,{className:"register-div",style:{margin:"20px"},children:[Object(p.jsxs)(F.a.Group,{children:[Object(p.jsx)(F.a.Label,{children:"First name"}),Object(p.jsx)(F.a.Control,{className:"".concat(u.first_name?"border-danger":""),name:"first_name",placeholder:"First Name",onChange:x,value:r.first_name})]}),Object(p.jsxs)(F.a.Group,{children:[Object(p.jsx)(F.a.Label,{children:"Last name"}),Object(p.jsx)(F.a.Control,{name:"last_name",placeholder:"Last Name",onChange:x,value:r.last_name})]}),Object(p.jsxs)(F.a.Group,{children:[Object(p.jsx)(F.a.Label,{children:"Profile Picture"}),Object(p.jsx)(J,{value:r.profile_pic,name:"profile_pic",handleImageUrl:function(e){n(Object(l.a)(Object(l.a)({},r),{},{profile_pic:e}))}})]}),Object(p.jsxs)(F.a.Group,{style:{display:"flex",flexDirection:"column"},children:[Object(p.jsx)(F.a.Label,{style:{color:"white"},children:"."}),Object(p.jsx)("button",{type:"submit",className:"btn btn-primary",children:"Submit"})]})]})]})})})},V=function(){var e=Object(i.f)(),t=Object(c.useState)({username:"",password:""}),a=Object(b.a)(t,2),r=a[0],n=a[1],s=Object(c.useState)(!1),o=Object(b.a)(s,2),u=o[0],h=o[1],x=function(e){var t=Object(l.a)(Object(l.a)({},r),{},Object(E.a)({},e.target.name,e.target.value));n(t)},m=function(){var t=Object(d.a)(j.a.mark((function t(a){var c;return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a.preventDefault(),t.prev=1,t.next=4,O.a.post("/api/auth/login/",r);case 4:c=t.sent,n=c.data.token,window.localStorage.setItem("token",n),e.push("/"),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(1),h(!0);case 12:case"end":return t.stop()}var n}),t,null,[[1,9]])})));return function(e){return t.apply(this,arguments)}}();return Object(p.jsx)(w.a,{id:"login-form-container",children:Object(p.jsxs)(F.a,{onSubmit:m,children:[Object(p.jsxs)(F.a.Group,{children:[Object(p.jsx)(F.a.Label,{children:"Email"}),Object(p.jsx)(F.a.Control,{className:u?"border-danger":"",name:"email",placeholder:"Email",onChange:x,value:r.email})]}),Object(p.jsxs)(F.a.Group,{children:[Object(p.jsx)(F.a.Label,{children:"Password"}),Object(p.jsx)(F.a.Control,{className:u?"border-danger":"",name:"password",type:"password",placeholder:"Password",onChange:x,value:r.password}),Object(p.jsx)(F.a.Text,{className:"text-danger",children:u?"Your email or password is incorrect.":""})]}),Object(p.jsx)("button",{type:"submit",className:"btn btn-primary",children:"Submit"})]})})},Y=function(e){var t=e.id,a=e.name,c=e.image;return Object(p.jsx)("div",{className:"card border-dark",children:Object(p.jsxs)(s.b,{to:"/artists/".concat(t),children:[Object(p.jsx)("img",{className:"card-img-top",src:c,alt:"Record Image"}),Object(p.jsx)("div",{className:"card-footer border-dark",children:Object(p.jsx)("h6",{className:"card-title cardInfo text-black",children:a})})]})})},q=function(){var e=Object(c.useState)([]),t=Object(b.a)(e,2),a=t[0],r=t[1],n=Object(c.useState)(!1),s=Object(b.a)(n,2),i=s[0],o=s[1];return Object(c.useEffect)((function(){var e=function(){var e=Object(d.a)(j.a.mark((function e(){var t,a;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,O.a.get("/api/artists/");case 3:t=e.sent,a=t.data,r(a),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),o(!0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}();e()}),[]),Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)(w.a,{fluid:!0,id:"artist-index-hero",style:{padding:"25px"},children:Object(p.jsx)(k.a,{style:{display:"flex",justifyContent:"center",alignItems:"center"},children:Object(p.jsxs)(N.a,{style:{textAlign:"center"},children:[Object(p.jsx)("h1",{className:"text-white title",children:"Artists"}),Object(p.jsx)("p",{className:"subtitle text-white",children:"Check out fully credited artists and their work"})]})})}),Object(p.jsx)("section",{children:Object(p.jsx)("div",{className:"container-md my-4",children:a?Object(p.jsx)("div",{className:"row row-cols-4",children:a.map((function(e){return Object(p.jsx)("div",{className:"col mb-3",children:Object(p.jsx)(Y,Object(l.a)({},e),e.id)},e.id)}))}):Object(p.jsx)("div",{className:"row row-cols-1",children:i?Object(p.jsx)("div",{className:"col",children:Object(p.jsx)("h1",{children:"An Error has occured!"})}):Object(p.jsx)("div",{className:"col",children:Object(p.jsx)("h1",{children:"Loading..."})})})})})]})},K=function(){var e=Object(c.useState)([]),t=Object(b.a)(e,2),a=t[0],r=t[1],n=Object(c.useState)(),l=Object(b.a)(n,2),o=l[0],u=l[1],h=Object(i.h)().id,m=Object(c.useState)(!1),f=Object(b.a)(m,2),v=f[0],y=f[1];return Object(c.useEffect)((function(){var e=function(){var e=Object(d.a)(j.a.mark((function e(){var t,a;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,O.a.get("/api/artists/".concat(h));case 3:t=e.sent,a=t.data,r(a),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),y(!0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}();e()}),[h]),Object(c.useEffect)((function(){u(a.record_set)}),[a]),Object(p.jsx)(p.Fragment,{children:a?Object(p.jsx)(p.Fragment,{children:Object(p.jsxs)(w.a,{style:{marginTop:"65px",marginBottom:"30px"},children:[Object(p.jsxs)(k.a,{children:[Object(p.jsx)(N.a,{md:{span:4},children:Object(p.jsx)(x.a,{children:Object(p.jsx)(x.a.Image,{src:a.image,alt:"".concat(a.name," Pic"),id:"record-single-pic",style:{border:"solid black 10px",borderRadius:"10px"}})})}),Object(p.jsxs)(N.a,{children:[Object(p.jsxs)(k.a,{children:[Object(p.jsx)(N.a,{style:{display:"flex",flexDirection:"row",justifyContent:"space-between",alignItems:"center"},children:Object(p.jsx)("h4",{children:a.name})}),Object(p.jsx)("hr",{})]}),Object(p.jsx)(k.a,{children:Object(p.jsx)(g.a,{url:"https://www.youtube.com/watch?v=jo7CUO0p3RU&t=1s"})})]})]}),o?Object(p.jsx)(k.a,{lg:6,children:o.map((function(e){return Object(p.jsx)(N.a,{children:Object(p.jsx)(R.a,{placement:"top",overlay:Object(p.jsx)(A.a,{children:e.title}),children:Object(p.jsx)(G.a,{children:Object(p.jsx)(s.b,{to:"/records/".concat(e.id),children:Object(p.jsx)(x.a,{style:{margin:"0"},children:Object(p.jsx)(x.a.Image,{src:e.image,alt:"".concat(e.title," Cover"),id:"record-single-pic",style:{margin:"0"}})})})})})},e.title)}))}):Object(p.jsx)(p.Fragment,{children:v?Object(p.jsx)("h1",{children:"error"}):Object(p.jsx)("h1",{children:"loading"})})]})}):Object(p.jsx)(p.Fragment,{children:v?Object(p.jsx)("h1",{children:"error"}):Object(p.jsx)("h1",{children:"loading"})})})},Q=function(){var e=Object(i.f)(),t=Object(c.useState)([]),a=Object(b.a)(t,2),r=a[0],n=a[1],o=Object(c.useState)([]),u=Object(b.a)(o,2),h=u[0],m=u[1],f=Object(c.useState)(!1),g=Object(b.a)(f,2),v=g[0],C=g[1],I=Object(c.useState)(),E=Object(b.a)(I,2),F=E[0],B=E[1];Object(c.useEffect)((function(){var e=function(){var e=Object(d.a)(j.a.mark((function e(){var t,a,c;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t=S(),e.next=4,O.a.get("/api/auth/user/".concat(t.sub));case 4:a=e.sent,c=a.data,n(c),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),C(!0);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(){return e.apply(this,arguments)}}();e()}),[]),Object(c.useEffect)((function(){r.profile_pic?B(r.profile_pic):B("https://i.ibb.co/XscjRqG/plain-vinyl.jpg");m(r.favourites)}),[r]);var P=function(){var e=Object(d.a)(j.a.mark((function e(t){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:try{O.a.delete("/api/favourites/".concat(t.target.id,"/"),{headers:{Authorization:"Bearer ".concat(_())}}),window.location.reload()}catch(a){C(!0)}case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(p.jsx)(w.a,{style:{width:"80%",marginTop:"45px",marginBottom:"45px"},children:0!==r.length?Object(p.jsxs)(k.a,{children:[Object(p.jsxs)(N.a,{children:[Object(p.jsxs)(G.a,{style:{marginBottom:"20px"},children:[Object(p.jsx)(G.a.Header,{children:Object(p.jsx)(G.a.Img,{src:F})}),Object(p.jsxs)(G.a.Body,{children:[Object(p.jsx)(G.a.Title,{children:r.username}),Object(p.jsxs)(G.a.Text,{children:[r.first_name," ",r.last_name]})]})]}),Object(p.jsx)("button",{className:"btn btn-primary",onClick:function(){window.localStorage.removeItem("token"),e.push("/")},children:"Logout"})]}),Object(p.jsxs)(N.a,{lg:7,children:[Object(p.jsx)("h1",{children:"My Records"}),Object(p.jsx)("hr",{}),Object(p.jsx)(w.a,{children:Object(p.jsx)(k.a,{lg:3,children:r.records.map((function(e){return Object(p.jsx)(N.a,{children:Object(p.jsx)(y,Object(l.a)({},e))},e.id)}))})})]}),Object(p.jsx)(N.a,{children:Object(p.jsxs)(w.a,{children:[Object(p.jsx)("h4",{style:{marginBottom:"20px"},children:"Favourites"}),h?Object(p.jsx)(k.a,{lg:1,children:h.map((function(e){return Object(p.jsxs)(N.a,{id:e.id,style:{display:"flex"},children:[Object(p.jsx)(R.a,{placement:"top",overlay:Object(p.jsx)(A.a,{children:e.record.title}),children:Object(p.jsx)(G.a,{style:{padding:"5px",marginBottom:"10px"},children:Object(p.jsx)(s.b,{to:"/records/".concat(e.record.id),children:Object(p.jsx)(x.a,{style:{margin:"0"},children:Object(p.jsx)(x.a.Image,{src:e.record.image,alt:"".concat(e.record.title," Cover"),id:"record-single-pic",style:{margin:"0"}})})})})}),Object(p.jsx)(L.a,{onClick:P,id:e.id,style:{height:"40px",borderRadius:"500px",backgroundColor:"rgba(71, 85, 209, 0.952)",border:"solid rgb(71, 85, 209)",marginLeft:"10px"},children:"X"})]},e.id)}))}):Object(p.jsx)(k.a,{lg:1,children:v?Object(p.jsx)(N.a,{children:Object(p.jsx)("h5",{children:"An Error has occured!"})}):Object(p.jsx)(N.a,{children:Object(p.jsx)("h5",{children:"Loading..."})})})]})})]}):Object(p.jsx)(p.Fragment,{children:v?Object(p.jsx)("h1",{children:"Err"}):Object(p.jsx)("h1",{children:"Loading"})})})},W=a(31),Z=a(173),$=a(97),ee=function(e){var t=e.handleClose,a=Object(c.useState)({name:"",image:"",social_link:""}),r=Object(b.a)(a,2),n=r[0],s=r[1],i=Object(c.useState)({name:"",image:"",social_link:""}),o=Object(b.a)(i,2),u=o[0],h=o[1],x=function(e){var t=Object(l.a)(Object(l.a)({},n),{},Object(E.a)({},e.target.name,e.target.value));s(t)},m=function(){var e=Object(d.a)(j.a.mark((function e(t){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.prev=1,e.next=4,O.a.post("/api/artists/",n,{headers:{Authorization:"Bearer ".concat(_())}});case 4:window.location.reload(),e.next=11;break;case 7:e.prev=7,e.t0=e.catch(1),h(e.t0.response.data),console.log(e.t0.response.data);case 11:case"end":return e.stop()}}),e,null,[[1,7]])})));return function(t){return e.apply(this,arguments)}}();return console.log(n),Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)(Z.a.Header,{closeButton:!0,children:Object(p.jsx)(Z.a.Title,{children:"Add an Artist"})}),Object(p.jsx)(Z.a.Body,{children:Object(p.jsxs)(F.a,{onSubmit:m,children:[Object(p.jsxs)(F.a.Group,{children:[Object(p.jsx)(F.a.Label,{children:"Name"}),Object(p.jsx)(F.a.Control,{className:"".concat(u.name?"border-danger":""),name:"name",placeholder:"Artist Name",value:n.name,onChange:x})]}),Object(p.jsxs)(F.a.Group,{children:[Object(p.jsx)(F.a.Label,{children:"Profile Picture"}),Object(p.jsx)(J,{className:"".concat(u.image?"border-danger":""),value:n.image,name:"image",handleImageUrl:function(e){s(Object(l.a)(Object(l.a)({},n),{},{image:e}))}})]}),Object(p.jsxs)(F.a.Group,{children:[Object(p.jsx)(F.a.Label,{children:"Social Media Link"}),Object(p.jsx)(F.a.Control,{className:"".concat(u.social_link?"border-danger":""),name:"social_link",placeholder:"URL",value:n.social_link,onChange:x})]}),Object(p.jsx)(L.a,{type:"submit",variant:"primary",onClick:t,style:{marginTop:"20px"},children:"Submit"})]})})]})},te=function(){var e=Object(i.f)(),t=Object(c.useState)([]),a=Object(b.a)(t,2),r=a[0],n=a[1],s=Object(c.useState)(!1),o=Object(b.a)(s,2),u=o[0],h=o[1],x=Object(c.useState)(!1),m=Object(b.a)(x,2),f=m[0],g=m[1],v=Object(c.useState)([]),y=Object(b.a)(v,2),k=y[0],N=y[1],C=Object(c.useState)({title:"",image:"",release_date:"",label:"",genre:"",type_of_record:"",is_vinyl_only:!1,link:"",soundcloud_link:"",artists:[]}),S=Object(b.a)(C,2),I=S[0],R=S[1],A=Object(c.useState)({title:"",image:"",release_date:"",label:"",genre:"",type_of_record:"",is_vinyl_only:"",link:"",soundcloud_link:"",artists:""}),G=Object(b.a)(A,2),B=G[0],P=G[1];Object(c.useEffect)((function(){var e=function(){var e=Object(d.a)(j.a.mark((function e(){var t,a;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,O.a.get("/api/artists/");case 3:t=e.sent,a=t.data,n(a),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),h(!0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}();e()}),[]),Object(c.useEffect)((function(){var e=r.map((function(e){return{value:"".concat(e.id),label:"".concat(e.name)}}));N(e)}),[r]);var D=function(e){var t="checkbox"===e.target.type?e.target.checked:e.target.value,a=Object(l.a)(Object(l.a)({},I),{},Object(E.a)({},e.target.name,t));R(a)},T=function(){var t=Object(d.a)(j.a.mark((function t(a){return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a.preventDefault(),t.prev=1,t.next=4,O.a.post("/api/records/",I,{headers:{Authorization:"Bearer ".concat(_())}});case 4:e.push("/records"),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(1),P(t.t0.response.data);case 10:case"end":return t.stop()}}),t,null,[[1,7]])})));return function(e){return t.apply(this,arguments)}}(),U=function(){return g(!1)};return console.log(u),Object(p.jsx)(w.a,{id:"add-record-con",children:Object(p.jsxs)(F.a,{onSubmit:T,children:[Object(p.jsxs)(F.a.Group,{children:[Object(p.jsx)(F.a.Label,{children:"Title"}),Object(p.jsx)(F.a.Control,{className:"".concat(B.title?"border-danger":""),name:"title",placeholder:"Record Title",value:I.title,onChange:D})]}),Object(p.jsxs)(F.a.Group,{children:[Object(p.jsx)(F.a.Label,{children:"Profile Picture"}),Object(p.jsx)(J,{value:I.image,name:"image",handleImageUrl:function(e){R(Object(l.a)(Object(l.a)({},I),{},{image:e}))}})]}),Object(p.jsxs)(F.a.Group,{children:[Object(p.jsx)(F.a.Label,{children:"Year Released"}),Object(p.jsx)(F.a.Control,{className:"".concat(B.release_date?"border-danger":""),name:"release_date",placeholder:"Release Date",value:I.release_date,onChange:D})]}),Object(p.jsxs)(F.a.Group,{children:[Object(p.jsx)(F.a.Label,{children:"Record Label"}),Object(p.jsx)(F.a.Control,{className:"".concat(B.label?"border-danger":""),name:"label",placeholder:"Label",value:I.label,onChange:D})]}),Object(p.jsxs)(F.a.Group,{children:[Object(p.jsx)(F.a.Label,{children:"Type Of Record"}),Object(p.jsxs)(F.a.Select,{className:"".concat(B.type_of_record?"border-danger":""),name:"type_of_record",value:I.type_of_record,onChange:D,children:[Object(p.jsx)("option",{children:"Type of record"}),Object(p.jsx)("option",{children:"EP"}),Object(p.jsx)("option",{children:"LP"}),Object(p.jsx)("option",{children:"Single"}),Object(p.jsx)("option",{children:"V/A"})]})]}),Object(p.jsxs)(F.a.Group,{children:[Object(p.jsx)(F.a.Label,{children:"Genre"}),Object(p.jsxs)(F.a.Select,{className:"".concat(B.genre?"border-danger":""),name:"genre",placeholder:"genre",value:I.genre,onChange:D,children:[Object(p.jsx)("option",{children:"Genre"}),Object(p.jsx)("option",{children:"UKG"}),Object(p.jsx)("option",{children:"Breaks"}),Object(p.jsx)("option",{children:"Jungle"}),Object(p.jsx)("option",{children:"House"}),Object(p.jsx)("option",{children:"Drum and Bass"}),Object(p.jsx)("option",{children:"Techno"}),Object(p.jsx)("option",{children:"Dubstep"}),Object(p.jsx)("option",{children:"Other"})]})]}),Object(p.jsxs)(F.a.Group,{children:[Object(p.jsx)(F.a.Label,{children:"Is the record Vinyl only?"}),Object(p.jsx)(F.a.Check,{name:"is_vinyl_only",type:"checkbox",checked:I.is_vinyl_only,onChange:D})]}),Object(p.jsxs)("div",{children:[Object(p.jsxs)(F.a.Group,{children:[Object(p.jsx)(F.a.Label,{children:"Artists"}),Object(p.jsx)($.a,{name:"artists",onChange:function(e){return function(e,t){var a=e?e.map((function(e){return parseInt(e.value)})):[];R(Object(l.a)(Object(l.a)({},I),{},Object(E.a)({},t,Object(W.a)(a))))}(e,"artists")},options:k,isMulti:!0})]}),Object(p.jsx)(L.a,{variant:"primary",onClick:function(){return g(!0)},style:{marginTop:"15px"},children:"Add Artist"}),Object(p.jsx)(Z.a,{show:f,onHide:U,children:Object(p.jsx)(ee,{handleClose:U})})]}),Object(p.jsxs)(F.a.Group,{children:[Object(p.jsx)(F.a.Label,{children:"Purchase Link"}),Object(p.jsx)(F.a.Control,{className:"".concat(B.link?"border-danger":""),name:"link",placeholder:"Link",value:I.link,onChange:D})]}),Object(p.jsxs)(F.a.Group,{children:[Object(p.jsx)(F.a.Label,{children:"Soundcloud Link"}),Object(p.jsx)(F.a.Control,{className:"".concat(B.soundcloud_link?"border-danger":""),name:"soundcloud_link",placeholder:"Upload the full previews or just 1 song",value:I.soundcloud_link,onChange:D,style:{marginBottom:"15px"}})]}),Object(p.jsx)("div",{style:{textAlign:"center"},children:Object(p.jsx)("button",{type:"submit",className:"btn btn-primary",children:"Submit!"})})]})})},ae=function(){return Object(p.jsxs)(s.a,{children:[Object(p.jsx)(I,{}),Object(p.jsxs)(i.c,{children:[Object(p.jsx)(i.a,{exact:!0,path:"/",component:v}),Object(p.jsx)(i.a,{exact:!0,path:"/records",component:C}),Object(p.jsx)(i.a,{exact:!0,path:"/records/:id",component:M}),Object(p.jsx)(i.a,{exact:!0,path:"/register",component:X}),Object(p.jsx)(i.a,{exact:!0,path:"/login",component:V}),Object(p.jsx)(i.a,{exact:!0,path:"/artists",component:q}),Object(p.jsx)(i.a,{exact:!0,path:"/artists/:id",component:K}),Object(p.jsx)(i.a,{exact:!0,path:"/profile",component:Q}),Object(p.jsx)(i.a,{exact:!0,path:"/addrecord",component:te})]})]})};a(162);n.a.render(Object(p.jsx)(ae,{}),document.getElementById("root"))}},[[163,1,2]]]);
//# sourceMappingURL=main.4160d888.chunk.js.map